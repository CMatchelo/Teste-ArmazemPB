/* Copyright (c) 2005-2018 Oracle and/or its affiliates. Removal of this notice is prohibited. */
(function(){var f=window.OracleUnifiedVisit||{};if(!f.VERSION){var D=0,l="cloud-commerce-visit.oracleoutsourcing.com",w=function(a,d){return a.replace(/^([^/:]*:?\/\/)*([^\/]+[^\.])\//,function(a,e,c){return(d?"https:":document.location.protocol)+"//"+c+"/"})},x=function(a){var d=document.createElement("script");d.charset="utf-8";d.src=w(a);(a=document.head||document.body||document.getElementsByTagName("html")[0])&&a.appendChild(d)},E=function(){requestCallback=function(a){a&&(y(a.visitId),setTimeout(m,
.8*parseInt(a.timeToLive,10)),(a=f.handle)&&a())};this.send=function(){var a=w(l+"/Visit/unified/v1/visit/"+h+"/"+c+"?dnc\x3d"+ +new Date),d=window.JSON&&JSON.parse,b;if(window.XMLHttpRequest&&d&&(b=new XMLHttpRequest,"withCredentials"in b)){b.open("GET",a,!0);b.onreadystatechange=function(){4==this.readyState&&200==this.status&&this.responseText&&requestCallback(d(this.responseText))};b.withCredentials=!0;b.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset\x3dutf-8");b.setRequestHeader("Accept",
"application/json");b.send();return}b="cb"+D++;q[b]=requestCallback;x(a+"\x26callback\x3dOracleUnifiedVisit."+b)}},z,g=function(){n||(n=1,k(c)&&h&&A(),k(c)||m())},m=function(){n&&h&&(new E).send()},n,r={get:function(a){for(var d=document.cookie.split(/; ?/),b=0,e;b<d.length;)if(e=d[b++].split("\x3d"),e[0]==a)return null!=e[1]?decodeURIComponent(e[1]):""},set:function(a,d){var b="; path\x3d/",e=location.hostname,c=e.split("."),f=c.length;/^(\d{1,3}\.){3}\d{1,3}$/.test(e)||(e=(size=2<f&&/^(COM|EDU|NET|ORG|GOV|MIL|INT)$/i.test(c[f-
1])?-2:3<f?-3:0)?"."+c.slice(size).join("."):1==f?0:e);b=b+(e?"; domain\x3d"+e:"")+"; expires\x3dFri, 01 Jan 2038 00:00:00 GMT";document.cookie=a+"\x3d"+encodeURIComponent(d)+b}},k=function(a){return!a||"undefined"==a||/^-?\d+$/.test(a)},y=function(a){a&&(B=a,t());return B},A=function(){z||(z=1,x(l+"/Visit/xd/v1/"+h+"/xd.js"))},h,c,p="xdVisitorId",B,u=function(){var a=r.get(p);a&&(a=a.split(":")[0]);return a},v=function(a){a=parseInt(a,10)||0;return isNaN(a)?0:a},t=function(){var a=(r.get(p)||"").split(":"),
d=+new Date,b=v(a[4]),e=v(a[5]);a[0]!=c&&(e=b=0,a=[]);a[0]&&5>a.length&&(e=b=2);a[3]&&108E5<d-v(a[3])&&(b++,e++,a[2]=a[3],a[3]=d);a=[c,a[1]||d,a[2]||d,a[3]||d,b||1,e||1];r.set(p,a.join(":"))},C=function(a){if(h=a)p="xd"+a,c=u(),k(c)||m(),k(c)&&h&&A()},q=window.OracleUnifiedVisit={accountId:f.accountId,visitorId:function(a){a&&(c=a,t());return u()||c},visitId:y,setXD:function(a){a||(a={});c=u();k(c)&&(c=a.visitorId)&&t();k(c)||m()},setEEID:C,setHost:function(a){l=a},VERSION:186};q.eeid=f.eeid||(window._OracleUnifiedVisit||
{}).eeid||q.eeid;f.host&&(l=f.host);f.accountId&&C(f.accountId);(function(){document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1);g()},!1):document.attachEvent&&"complete"!=document.readyState&&(document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),g())}),document.documentElement.doScroll&&window==window.top&&
function(){if(!n){try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}g()}}());var a="load"+g;window.attachEvent?(window["e"+a]=g,window[a]=function(){window["e"+a](window.event)},window.attachEvent("onload",window[a])):window.addEventListener("load",g,!1)})();/in/.test(document.readyState)||g()}})();
