define(["jquery","knockout","pubsub"],function(e,t,n){"use strict";return{WIDGET_ID:"enext_amz_menu",isMobile:t.observable(window.innerWidth<=991),toggleMobile:t.observable(!1),menuOpen:t.observable(!1),onLoad:function(t){var n=this;e(".mobile-category-container").css("left","0"),e(".mobile-subcategory-container").css("left","-70vw"),e.Topic("show-menu-mobile").subscribe(function(t){e(".x-menu-button-mobile").css("opacity",t)})},openMenuMob:function(){e(".x-amz-menu-container").css("left","0"),e(".x-menu-background").addClass("active"),e(".x-menu-button-mobile").css("opacity","0"),e("path.b").css("opacity",".5")},closeMenuMob:function(){e(".x-amz-menu-container").css("left","-100%"),e(".x-menu-background").removeClass("active"),e(".x-menu-button-mobile").css("opacity","1"),this.backMenu(),e("path.b").css("opacity","1")},openSubcategory:function(){e(".category").click(function(){e("path.b").css("opacity",".5"),window.innerWidth<=335&&e(".mobile-category-container").css("left","68vw"),window.innerWidth>335&&window.innerWidth<375&&e(".mobile-category-container").css("left","70vw"),window.innerWidth>=375&&e(".mobile-category-container").css("left","72vw"),e(".mobile-subcategory-container").css("left","2.5%"),e(".subcategory").removeClass("active"),e(".subcategory."+this.classList[1]).addClass("active"),console.log("Cat - ",this.classList);var t=this.classList;e("."+t[0]+"."+t[1]+" path.b").css("opacity","1")})},openRegister:function(){this.closeMenuMob(),e.Topic("show-register").publish(),e(".x-menu-button-mobile").css("opacity","0")},openLogin:function(){this.closeMenuMob(),e.Topic("show-login").publish(),e(".x-menu-button-mobile").css("opacity","0")},backMenu:function(){e(".mobile-category-container").css("left","0"),e(".mobile-subcategory-container").css("left","-70vw")},handleLogoutMobile:function(t,n){t.type=="click"&&e.Topic("loggout").publish(n)}}})